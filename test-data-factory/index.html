
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../component-library/spinner/">
      
      
        <link rel="next" href="release-notes/1.4/">
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>Docs - Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/hljs-kratapps.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test-data-factory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Docs" class="md-header__button md-logo" aria-label="Docs" data-md-component="logo">
      
  <img src="../images/logo_kratapps.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="custom"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../component-library/overview/components/" class="md-tabs__link">
          
  
  Component Library

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Test Data Factory

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../setup-audit-trail/reference/" class="md-tabs__link">
        
  
    
  
  Setup Audit Trail

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Docs" class="md-nav__button md-logo" aria-label="Docs" data-md-component="logo">
      
  <img src="../images/logo_kratapps.svg" alt="logo">

    </a>
    Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Component Library
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Component Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-library/overview/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Apex
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Apex
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components-library/json-preprocessor.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LWC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            LWC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-library/alert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-library/error-handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error Handler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-library/spinner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spinner
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Test Data Factory
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Test Data Factory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Docs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Docs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managed-package" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unpackaged" class="md-nav__link">
    <span class="md-ellipsis">
      Unpackaged
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-data-factory_1" class="md-nav__link">
    <span class="md-ellipsis">
      Test Data Factory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sobject-factories-and-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factories and Scenarios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SObject Factories and Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sobject-factory" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SObject Factory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Example Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sobject-factory-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factory Scenario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotations" class="md-nav__link">
    <span class="md-ellipsis">
      Rotations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insertable-records" class="md-nav__link">
    <span class="md-ellipsis">
      Insertable records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-auto-populate-required-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Disable auto populate required fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/1.4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/kratapps/test-data-factory/blob/main/LICENSE" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MIT License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup-audit-trail/reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Audit Trail
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managed-package" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unpackaged" class="md-nav__link">
    <span class="md-ellipsis">
      Unpackaged
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-data-factory_1" class="md-nav__link">
    <span class="md-ellipsis">
      Test Data Factory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sobject-factories-and-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factories and Scenarios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SObject Factories and Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sobject-factory" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SObject Factory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Example Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sobject-factory-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      SObject Factory Scenario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotations" class="md-nav__link">
    <span class="md-ellipsis">
      Rotations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insertable-records" class="md-nav__link">
    <span class="md-ellipsis">
      Insertable records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-auto-populate-required-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Disable auto populate required fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a href="https://docs.kratapps.com/test-data-factory/">
  <img title="Test Data Factory" alt="TDF" width="60px" height="60px" align="right"
       src="https://docs.kratapps.com/images/logo_tdf_642_642.png"  />
</a></p>
<h1 id="test-data-factory">Test Data Factory</h1>
<p><a href="https://appexchange.salesforce.com/appxListingDetail?listingId=a0N4V00000FNCbZUAX"><img alt="App Exchange" src="https://img.shields.io/badge/AppExchange-Test%20Data%20Factory-blue?logo=salesforce" /></a>
<a href="https://appexchange.salesforce.com/appxListingDetail?listingId=a0N4V00000FNCbZUAX"><img alt="Security Review" src="https://img.shields.io/badge/Security%20Review-Passed-green" /></a>
<a href="https://github.com/kratapps/test-data-factory"><img alt="GitHub" src="https://img.shields.io/badge/GitHub-Public-black?logo=github" /></a>
<a href="https://login.salesforce.com/packaging/installPackage.apexp?p0=04t09000000vCWn"><img alt="Install Production" src="https://img.shields.io/badge/Managed%20Package-Install%20Production-cyan" /></a>
<a href="https://test.salesforce.com/packaging/installPackage.apexp?p0=04t09000000vCWn"><img alt="Install Sandbox" src="https://img.shields.io/badge/Managed%20Package-Install%20Sandbox-cyan" /></a></p>
<p>Create sObjects in unit tests seamlessly.</p>
<ul>
<li>Test Data Factory out-of-the-box creates records with all required fields
    already populated.</li>
<li>Extend <code>SObjectFactory</code> class or add Custom Metadata to provide base records
    for your unit tests. This way you can ensure records pass validation rules.</li>
<li>Do you need in some unit tests more customized records? Define your records
    using the <code>SObjectFactoryScenario</code>.</li>
<li>Custom Settings and sObjects from managed packages can also be created.</li>
</ul>
<h2 id="example">Example</h2>
<pre><code class="language-apex">// create account, required fields are populated automatically
// add fields specific for your unit test
Account acc = (Account) factory
    .inserted(new Account(
        Description = 'My Account',
        Parent = anotherAcc
    ))
    .toSObject();
// create 5 contacts with 3 different descriptions
List&lt;Contact&gt; created = (List&lt;Contact&gt;) factory
    .rotate(Contact.Description, new List&lt;String&gt;{'desc 0', 'desc 1', 'desc 2'})
    .inserted(5, new Contact())
    .toList();
</code></pre>
<h2 id="installation">Installation</h2>
<p>You can either install our free
<a href="https://appexchange.salesforce.com/appxListingDetail?listingId=a0N4V00000FNCbZUAX">Managed Package</a>
or deploy code unpackaged. Do not modify the unpackaged code, we are not able to
provide support if code deployed unpackaged.</p>
<p>Version ID: 04t09000000vCWn</p>
<h3 id="managed-package">Managed Package</h3>
<p>Install Managed Package using this URL:</p>
<pre><code class="language-text">https://login.salesforce.com/packaging/installPackage.apexp?p0=04t09000000vCWn
</code></pre>
<p>or using sfdx cli:</p>
<pre><code class="language-shell">sfdx force:package:install -p 04t09000000vCWn -u myOrg
</code></pre>
<h3 id="unpackaged">Unpackaged</h3>
<p>Use our sfdx plugin to install all components in the <code>src/main/core/</code> without
cloning:</p>
<pre><code class="language-shell">sfdx kratapps:remote:source:deploy -s https://github.com/kratapps/test-data-factory -p src/main/core/ -u myOrg
</code></pre>
<p>or clone the project and deploy using standard sfdx command:</p>
<pre><code class="language-shell">git clone https://github.com/kratapps/test-data-factory.git
cd test-data-factory
sfdx force:source:deploy -p src/main/core/ -u myOrg
</code></pre>
<h2 id="usage">Usage</h2>
<p>You can create records using the TDF immediately in small projects or sObjects
that are created only occasionally in unit tests. For other cases, we recommend
extending <code>SObjectFactory</code> and/or <code>SObjectFactoryScenario</code> for each sObject
type. <code>SObjectFactory/SObjectFactoryScenario</code> gives you more flexibility.</p>
<h3 id="test-data-factory_1">Test Data Factory</h3>
<p>Initialize TDF in your unit test class.</p>
<pre><code class="language-apex">private static final sobj.TestDataFactory factory = new sobj.TestDataFactory();
</code></pre>
<h3 id="operations">Operations</h3>
<p>Choose one of these operations: create, mock and insert.<br />
Prefer crete or mock over insert to improve performance.</p>
<table>
<thead>
<tr>
<th></th>
<th>create</th>
<th>mock</th>
<th>insert</th>
</tr>
</thead>
<tbody>
<tr>
<td>Performance</td>
<td>fast</td>
<td>fast</td>
<td>slower</td>
</tr>
<tr>
<td>With Ids</td>
<td>✕</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>Queryable</td>
<td>✕</td>
<td>✕</td>
<td>✓</td>
</tr>
<tr>
<td>Custom Settings</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>Custom Metadata</td>
<td>✓</td>
<td>✓</td>
<td>✕</td>
</tr>
</tbody>
</table>
<p>Required fields are populated automatically. Default fields can be overridden
using the target sObject provided.<br />
The TDF will insert this account.</p>
<pre><code class="language-apex">Account acc = (Account) factory.inserted(new Account(
        Description = 'Overridden Description'
)).toSObject();
</code></pre>
<p>This record will have the AccountId of the account created above.<br />
Just assign the account and the Id will be populated automatically from the
account sObject.<br />
In case you created the <code>AccountFactory</code> class, the account won't be created in
that class this case.<br />
Create operation will not insert the record.</p>
<pre><code class="language-apex">Contact con = (Contact) factory.created(new Contact(
        Account = acc
)).toSObject();
</code></pre>
<p>The mock operation will not insert the record. This record has generated Id, but
the record does not exist in the database.</p>
<pre><code class="language-apex">Contact con2 = (Contact) factory.mocked(new Contact()).toSObject();
</code></pre>
<p>Generate multiple records.</p>
<pre><code class="language-apex">List&lt;Contact&gt; contacts = (List&lt;Contact&gt;) factory.inserted(200, new Contact()).toList();
</code></pre>
<p>Get mocked/inserted record by Id using getRecord static method</p>
<pre><code class="language-apex">SObject sObj = sobj.TestDataFactory.getRecord(sObjectId);
</code></pre>
<h3 id="default-values">Default Values</h3>
<p>There are multiple ways how to set field values:</p>
<ul>
<li>Fields in the <code>target</code> sObject. This is the sObject you pass to
    created/inserted/mocked methods.</li>
<li>Fields in the <code>defaults</code> sObject. This is the sObject returned by
    <code>createDefaults</code> method.</li>
<li>Fields in the <code>metadata defaults</code> sObject. This sObject is build from
    Test_Data_Factory_Default__mdt metadata.</li>
</ul>
<p>If you define a value for a same field more than once, the order is as follows:
<code>target</code> &gt; <code>defaults</code> &gt; <code>metadata defaults</code>.</p>
<h3 id="metadata-defaults">Metadata Defaults</h3>
<p>Define default fields values using Test_Data_Factory_Default__mdt custom
metadata. This way, you can set fields values without creating or modifying any
Apex code. Set sObject API name, field API name, and value in each entry.
Optionally, you can enable each default value to a subset of:</p>
<ul>
<li>Custom Factory. Taken into account only if SObjectFactory for related
    SObject is implemented and a scenario is not used.</li>
<li>Default Factory. Taken into account only if SObjectFactory for related
    SObject is not implemented and a scenario is not used.</li>
<li>Scenario. Taken into account only if a scenario is used.</li>
</ul>
<h3 id="sobject-factories-and-scenarios">SObject Factories and Scenarios</h3>
<p>SObject Factories and Scenarios provide the same interface. Look at the table
below to choose between SObject Factory and Scenario.</p>
<table>
<thead>
<tr>
<th></th>
<th>Factory</th>
<th>Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td>When to use</td>
<td>to create records with attributes for most unit tests</td>
<td>to create special case records</td>
</tr>
<tr>
<td>Extends</td>
<td>sobj.SObjectFactory</td>
<td>sobj.SObjectFactoryScenario</td>
</tr>
<tr>
<td>Class Name</td>
<td>SObject Api Name without '_', '__c', '__mdt' followed by 'Factory'</td>
<td>anything</td>
</tr>
<tr>
<td>Count</td>
<td>only one per SObject</td>
<td>multiple per SObject</td>
</tr>
<tr>
<td>How to use</td>
<td>don't use useScenario</td>
<td>use useScenario</td>
</tr>
</tbody>
</table>
<h4 id="sobject-factory">SObject Factory</h4>
<p>Make sure to</p>
<ul>
<li>name the class after the SObject (without __c and underscores) with
    <code>Factory</code> suffix</li>
<li>make the class and its methods global</li>
<li>annotate the class with <code>@IsTest</code></li>
</ul>
<h5 id="methods">Methods</h5>
<ul>
<li>
<p>createDefaults<br />
    This method creates a new record with default values. Avoid any DML
    Operation here as it is called for every sObject created.</p>
</li>
<li>
<p>makeParent (optional)<br />
    This method is called only once for each relationship.<br />
    The parent should be created in this method, because the method is not
    called for records that already have the parent. This way you can reduce
    redundant DML statements.</p>
</li>
<li>
<p>getDmlOptions (optional)<br />
    Every factory comes with DML Options, default DML Options have
    <code>duplicateRuleHeader.allowSave</code> set to true.<br />
    You can override this behavior.</p>
</li>
<li>
<p>requireRecordType (optional)<br />
    If sObject has record types, it is enforced to set the RecordTypeId in unit
    tests.<br />
    You can disable this feature by overriding this method.</p>
</li>
<li>
<p>autoPopulateRequiredFields (optional)<br />
    This feature is enabled for every sObject without SObject Factory class.
    Once you create the SObject Factory instance class, the feature is disabled
    by default. Override this method and return true to enable it again. We
    strongly recommend disabling this feature for sObjects with a lot of fields
    to improve performance.</p>
</li>
</ul>
<h5 id="example-implementation">Example Implementation</h5>
<pre><code class="language-apex">@IsTest
global without sharing class ContactFactory extends sobj.SObjectFactory {
    private final sobj.ITestDataFactory factory = new sobj.TestDataFactory();

    public SObject createDefaults(SObject target) {
        return new Contact(
                FirstName = 'First',
                LastName = 'Last'
        );
    }
    public override SObject makeParent(SObjectField sObjField, SObject target) {
        if (sObjField == Contact.AccountId) {
            return factory.inserted(new Account()).toSObject();
        } else if (sObjField == ...) {
            return ...
        }
        return null;
    }
}
</code></pre>
<h4 id="sobject-factory-scenario">SObject Factory Scenario</h4>
<p>Sometimes you need special factories for special use cases.</p>
<p>For example, your open opportunity is quite different from the closed one. The
closed one requires multiple related objects which are not required for the open
one.<br />
<code>OpportunityFactory</code> class will provide open opportunities. Then create
<code>ClosedOpportunityFactory</code> that will provide closed opportunities. The
<code>ClosedOpportunityFactory</code> will extend the <code>SObjectFactoryScenario</code> class.<br />
To use the <code>ClosedOpportunityFactory</code> call the <code>useScenario</code> method.</p>
<pre><code class="language-apex">// this will use the OpportunityFactory
Opportunity opp = (Opportunity) factory.inserted(new Opportunity()).toSObject();
// this will use the ClosedOpportunityFactory
Opportunity closedOpp = (Opportunity) factory
    .useScenario(ClosedOpportunityFactory.class)
    .inserted(new Opportunity())
    .toSObject();
</code></pre>
<h3 id="rotations">Rotations</h3>
<p>If you want your records to have different values, you can use <code>rotate</code> method.
In the following example you we will create 5 contacts with 3 different
descriptions:</p>
<pre><code class="language-apex">List&lt;Contact&gt; created = (List&lt;Contact&gt;) factory
    .rotate(Contact.Description, new List&lt;String&gt;{'desc 0', 'desc 1', 'desc 2'})
    .rotate(Contact.AccountId, accountList)
    .created(5, new Contact())
    .toList();
</code></pre>
<p>If using rotation for a relationship field, use Id field and list of sObjects.
In our example <code>.rotate(Contact.AccountId, accountList)</code>.</p>
<h2 id="best-practices">Best Practices</h2>
<p>Common best practices while using this TDF.</p>
<h3 id="insertable-records">Insertable records</h3>
<p>You should be able to insert every record without providing any values in the
call. The following snippet should work in every unit test for all sObjects:</p>
<pre><code class="language-apex">Contact con = (Contact) factory.inserted(new Contact()).toSObject();
</code></pre>
<p>For example User requires ProfileId which is not possible to insert
automatically. In case you want to create user objects in your unit tests you
should create <code>UserFactory</code> class and assign ProfileId there. The ProfileId can
be then overridden in the created/mocked/inserted method call in a unit test.</p>
<h3 id="disable-auto-populate-required-fields">Disable auto populate required fields</h3>
<p>When your sObject has hundreds of fields, you should disable auto populating to
improve performance. Set <code>autoPopulateRequiredFields</code> false in your SObject
Factory class.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../component-library/spinner/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Spinner">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Spinner
              </div>
            </div>
          </a>
        
        
          
          <a href="release-notes/1.4/" class="md-footer__link md-footer__link--next" aria-label="Next: 1.4">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                1.4
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:sales@kratapps.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/kratapps" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.path", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
        <script src="../scripts/highlight.min.js"></script>
      
        <script src="../scripts/highlightConfig.js"></script>
      
    
  </body>
</html>